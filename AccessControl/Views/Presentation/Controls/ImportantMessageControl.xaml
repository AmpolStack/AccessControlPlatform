<UserControl x:Class="AccessControl.Views.Controls.ImportantMessageControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:AccessControl.Views.Controls"
             mc:Ignorable="d" 
             x:Name="ucImportantMessage"
             xmlns:controls="clr-namespace:AccessControl.Views.Controls"
             d:DesignHeight="450" d:DesignWidth="800">
    <StackPanel Grid.Row="1"
            VerticalAlignment="Top"
            Grid.Column="1">

        <!-- Title with dynamic color based on MessageType -->
        <TextBlock TextWrapping="Wrap" 
               Foreground="{Binding MessageType, ElementName=ucImportantMessage, Converter={StaticResource AppElementTypeToBrushConverter}}"
               FontWeight="{StaticResource InterBoldWeight}"
               Text="{Binding TitleContent, ElementName=ucImportantMessage}"
               FontSize="35"
               Margin="0"
               HorizontalAlignment="Center"/>

        <!-- ContentPresenter for dynamic custom content -->
        <!-- If CustomContent is defined, it is displayed; otherwise, BodyContent is displayed -->
        <ContentPresenter Content="{Binding CustomContent, ElementName=ucImportantMessage}"
                          Margin="40,20"
                          HorizontalAlignment="Center">
            <ContentPresenter.Style>
                <Style TargetType="ContentPresenter">
                    <Style.Triggers>
                        <!-- If CustomContent is null, we display BodyContent as TextBlock -->
                        <DataTrigger Binding="{Binding CustomContent, ElementName=ucImportantMessage}" Value="{x:Null}">
                            <Setter Property="Content">
                                <Setter.Value>
                                    <TextBlock TextWrapping="Wrap"
                                               TextAlignment="Left"
                                               Foreground="{StaticResource AppBlackBrush}"
                                               FontWeight="{StaticResource InterNormalWeight}"
                                               FontSize="18"
                                               Text="{Binding BodyContent, ElementName=ucImportantMessage}"/>
                                </Setter.Value>
                            </Setter>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </ContentPresenter.Style>
        </ContentPresenter>

        <!-- Button using direct binding without duplicating properties -->
        <controls:StandardButtonControl x:Name="ActionButton"
                         ButtonContent="{Binding ButtonContent, ElementName=ucImportantMessage}"
                         ButtonType="{Binding ButtonType, ElementName=ucImportantMessage}"
                         Command="{Binding ButtonCommand, ElementName=ucImportantMessage}"/>

    </StackPanel>
</UserControl>

